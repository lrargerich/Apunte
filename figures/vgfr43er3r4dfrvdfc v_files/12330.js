var rp_account_config={rp_feature_set:{}};var RubiconAdServing=RubiconAdServing||{};RubiconAdServing.AdSizes={1:{dim:"468x60"},2:{dim:"728x90"},3:{dim:"234x60"},4:{dim:"88x31"},5:{dim:"120x90"},6:{dim:"120x60"},7:{dim:"125x125"},8:{dim:"120x600"},9:{dim:"160x600"},10:{dim:"300x600"},11:{dim:"180x150"},12:{dim:"120x240"},13:{dim:"200x200"},14:{dim:"250x250"},15:{dim:"300x250"},16:{dim:"336x280"},17:{dim:"240x400"},18:{dim:"180x150"},19:{dim:"300x100"},20:{dim:"0x0"},21:{dim:"0x0"},22:{dim:"0x0"},23:{dim:"120x90"},24:{dim:"160x90"},25:{dim:"180x90"},26:{dim:"200x90"},27:{dim:"468x15"},28:{dim:"728x15"},29:{dim:"300x850"},30:{dim:"1x1"},31:{dim:"980x120"},32:{dim:"250x360"},33:{dim:"180x500"},34:{dim:"580x400"},35:{dim:"980x150"},36:{dim:"140x350"},37:{dim:"468x400"},38:{dim:"930x180"},39:{dim:"750x100"},40:{dim:"750x200"},41:{dim:"750x300"},42:{dim:"2x4"},43:{dim:"320x50"},44:{dim:"300x50"},45:{dim:"480x75"},46:{dim:"480x60"},47:{dim:"240x37"},48:{dim:"300x300"},49:{dim:"336x280"},50:{dim:"1024x90"},51:{dim:"768x90"},52:{dim:"1004x768"},53:{dim:"1024x768",interstitial:true},54:{dim:"300x1050"},55:{dim:"970x90"},56:{dim:"900x250"},57:{dim:"970x250"},58:{dim:"1000x90"},59:{dim:"320x80"},60:{dim:"320x150"},61:{dim:"1000x1000"},62:{dim:"980x50"},63:{dim:"1000x40"},64:{dim:"580x500"},65:{dim:"640x480"},66:{dim:"930x600"},67:{dim:"320x480",interstitial:true},68:{dim:"1800x1000"},69:{dim:"480x400"},70:{dim:"1100x210"},71:{dim:"852x210"},72:{dim:"320x320"},73:{dim:"320x160"},74:{dim:"1250x240"},75:{dim:"1250x250"},76:{dim:"265x720"},77:{dim:"265x600"},78:{dim:"980x240"},79:{dim:"980x300"},80:{dim:"980x400"},81:{dim:"450x150"},82:{dim:"300x75"},83:{dim:"480x300"},84:{dim:"320x480"},85:{dim:"300x120"},86:{dim:"300x250"},87:{dim:"950x90"},88:{dim:"300x600"},89:{dim:"300x1200"},90:{dim:"548x150"},91:{dim:"300x250"},92:{dim:"728x90"},93:{dim:"160x600"},94:{dim:"970x310"},95:{dim:"970x100"},96:{dim:"970x210"},97:{dim:"467x120"},98:{dim:"1000x120"},99:{dim:"300x250"},100:{dim:"300x250"},101:{dim:"480x320",interstitial:true},102:{dim:"768x1024",interstitial:true},103:{dim:"480x280"},104:{dim:"1250x360"},105:{dim:"250x800"},106:{dim:"300x480"},107:{dim:"440x220"},108:{dim:"320x240"},109:{dim:"468x120"},110:{dim:"994x66"},111:{dim:"1250x480"},112:{dim:"1366x40"},113:{dim:"1000x300"},114:{dim:"505x500"},115:{dim:"480x150"},116:{dim:"950x250"},117:{dim:"320x100"},118:{dim:"160x410"},119:{dim:"256x600"},120:{dim:"994x250"},121:{dim:"1280x800",interstitial:true},122:{dim:"800x1280",interstitial:true},123:{dim:"650x110"},124:{dim:"640x150"},125:{dim:"800x250"}};var RubiconAdServing=RubiconAdServing||{};RubiconAdServing.Creatives=function(){RubiconAdServing.creatives=RubiconAdServing.creatives||{};this.setAd=function(a,b){if(a&&b){RubiconAdServing.creatives[a]=b}};this.getAd=function(a){if(a){return RubiconAdServing.creatives[a]}return null};this.getAdBySlot=function(a){return this.getAd(a)};this.getAdByZone=function(d,b,a){var c=d+"/"+b+"/"+a;return this.getAd(c)};this.renderAdBySlot=function(a){var b=this.getAd(a);if(b&&b.status=="ok"&&b.script){document.write("<script>"+b.script+"<\/script>")}};this.renderAdByZone=function(e,b,a){var c=e+"/"+b+"/"+a;var d=this.getAd(c);if(d&&d.status=="ok"&&d.script){document.write("<script>"+d.script+"<\/script>")}}};RubiconAdServing.Requests=function(){RubiconAdServing.requests=RubiconAdServing.requests||{};RubiconAdServing.timers=RubiconAdServing.timers||{};this.addRequest=function(a,b){RubiconAdServing.requests[a]=b};this.getRequest=function(a){return RubiconAdServing.requests[a]};this.sendRequest=function(b){var c=this.getRequest(b);var a;if(!c||!c.slot){return}if(!c.context.rp_debug){if(c.slot.shouldRouteToRFM()){a='<div id="'+c.context.rp_div_id+'"><script type="text/javascript" src="'+c.url+'"><\/script></div>'}else{if(c.context.rp_adtype=="iframe"){a='<iframe frameborder="0" allowtransparency="true" hspace="0"  vspace="0" marginheight="0" marginwidth="0" scrolling="no"  width="'+c.context.rp_width+'px" height="'+c.context.rp_height+'px" src="'+c.url+'"></iframe>'}else{a='<script type="text/javascript" src="'+c.url+'"><\/script>'}}if(c.timer){RubiconAdServing.timers[b]=new Date()}document.write(a)}else{document.write(c.url)}}};RubiconAdServing.timeRequest=function(d,j,k,l){var h=new Date();if(!RubiconAdServing.timers.hasOwnProperty(d)){return}var b=RubiconAdServing.timers[d];delete RubiconAdServing.timers[d];var c=h-b;var i=location.href.split(":");var g=i[0]=="https"?"https://":"http://";var a=g+"stats.aws.rubiconproject.com/stats/latency/"+j+"/"+k+"/"+l+"/"+c;var f=document.createElement("img");f.src=a;f.width=0;f.height=0;var e=document.getElementsByTagName("body")[0];e.appendChild(f)};RubiconAdServing.dealEligibilityIdentified=false;RubiconAdServing.RubiconAd=function(){this.config={server:"revv",host:"optimized-by.rubiconproject.com",hosts:{revv:{beta:"staged-by.rubiconproject.com",prod:"optimized-by.rubiconproject.com"},rfm:{beta:"mrp.rubiconproject.com",prod:"mrp.rubiconproject.com"}}};this.default_context={rp_env:"prod",rp_adtype:"js",rp_kw:null,rp_gender:null,rp_age:null,rp_age_range:null,rp_age_dob:null,rp_ethnicity:null,rp_xpi:null,rp_page:null,rp_geo:{},rp_aso:{},rp_badvid:[],rp_fastlane:false,rp_feature_set:{visibility:true,expandable:true,local_storage:true,rfm_routing:false,tablet_mapping:false,first_party_data:true,rtp_first_look:false,rtp_data_collection:false,jit_sync:true,jit_sync_android:false,floor_is_rtb_only:true,custom_host:null,custom_host_sites:[],deal_extensions:[],latency_sampling:0,latency_sampling_sites:[]},rp_dpf:false,rp_navigator:null};this.mergeProperties=function(n,m){if(typeof(n)=="undefined"||!n){return m}var p={};for(var o in m){if(typeof n[o]=="undefined"){n[o]=m[o]}else{if(n[o]!=null&&typeof n[o]=="object"){this.mergeProperties(n[o],m[o])}}}return n};this.init=function(o){try{this.default_context.rp_div_id="rp-"+new Number(Math.floor(Math.random()*1000000)).toString(36);if(o){this.context=this.mergeProperties(o,this.default_context)}else{this.context=this.default_context}this.browser=new f(this.context.rp_navigator||navigator);if(this.context.rp_zonesize){var q=this.context.rp_zonesize.split("-");this.context.rp_zone=q[0];this.context.rp_size_id=q[1]}if(this.context.rp_lat&&!this.isValidLat(this.context.rp_lat)){delete this.context.rp_lat}if(this.context.rp_long&&!this.isValidLong(this.context.rp_long)){delete this.context.rp_long}if(this.context.rp_geo&&this.context.rp_geo.latitude&&!this.isValidLat(this.context.rp_geo.latitude)){delete this.context.rp_geo.latitude}if(this.context.rp_geo&&this.context.rp_geo.longitude&&!this.isValidLong(this.context.rp_geo.longitude)){delete this.context.rp_geo.longitude}if(rp_account_config){this.context=this.mergeProperties(rp_account_config,this.context);if(rp_account_config.site_config){var m=rp_account_config.site_config[this.context.rp_site];if(m){this.context=this.mergeProperties(m,this.context);if(m.zone_config){this.context=this.mergeProperties(m.zone_config[this.context.rp_zone],this.context)}}}if(this.shouldSplitTablet()){if(this.context.tablet_map.site_id&&this.context.tablet_map.zone_id){this.context.rp_site=this.context.tablet_map.site_id;this.context.rp_zone=this.context.tablet_map.zone_id;this.context.rp_zonesize=this.context.rp_zone+"-"+this.context.rp_size_id}}}this.context.rp_rtb_tier=this.context.rp_rtb_tier||this.context.rp_pmp_tier;if(this.context.rp_feature_set.floor_is_rtb_only){this.context.rp_rtb_floor=this.context.rp_floor||this.context.rp_rtb_floor;this.context.rp_floor=null}if(this.shouldRouteToRFM()){this.config.server="rfm"}if(this.context.rp_env){this.config.host=this.config.hosts[this.config.server][this.context.rp_env]||this.config.hosts[this.config.server]["prod"]||this.config.host}if(this.context.rp_feature_set.custom_host){var p=this.context.rp_feature_set.custom_host_sites;if(b(p)){for(var n=0;n<p.length;n++){if(p[n]==this.context.rp_site){this.config.host=this.context.rp_feature_set.custom_host;break}}}}if(this.context.rp_host){this.config.host=this.context.rp_host}}catch(r){}};this.isValidLat=function(m){return(m!=null)&&m>=-90&&m<=90};this.isValidLong=function(m){return(m!=null)&&m>=-180&&m<=180};this.shouldSplitTablet=function(){return(this.context.rp_feature_set.tablet_mapping&&this.browser.detectiPad())};this.shouldRouteToRFM=function(){return(this.context.rp_feature_set.rfm_routing_always||(this.context.rp_feature_set.rfm_routing&&this.browser.detectiPad()&&(this.context.rp_adtype=="js")))};this.start=function(){var F=false;var I;var z=location.href.split(":");var A=z[0]=="https"?"https://":"http://";var s;if(this.context.rp_adtype!="jsonp"){s=A+this.config.host+"/a/$account_id$/$site_id$/$zonesize$.$format$?";s+="$cb$$floor$$rtb_floor$$smart$$referrer$$smartfile$$storagetype$$localstorage$";s+="$keyword$$gender$$age$$agerange$$agedob$$ethnicity$$tracking$$user_key$$fbid$$xpi$";s+="$tg_i$$tg_v$$p_app$$p_device$$p_accept$$p_interstitial$$dpf$$rtb_tier$$aso$$block_keys$";s+="$p_geo$$p_lat$$p_long$$p_screen_res$$slot$$ad_id$$badvid$";if(this.shouldRouteToRFM()){s=A+this.config.host+"/ad_request?$div_id$$app_id$$pub_id$$rand_cb$";s+="$rfm_lat$$rfm_lng$$rfm_ad_size$"}}else{var x=this.context.rp_fastlane?"/a/api/fastlane.$format$":"/a/api/ads.$format$";s=A+this.config.host+x+"?enc=url&account_id=$account_id$&site_id=$site_id$&zone_id=$zone_id$&size_id=$size_id$";s+="$cb$$floor$$rtb_floor$$smart$$referrer$$smartfile$$storagetype$$localstorage$";s+="$keyword$$gender$$age$$agerange$$agedob$$ethnicity$$tracking$$user_key$$fbid$$xpi$";s+="$tg_i$$tg_v$$p_app$$p_device$$p_accept$$p_interstitial$$dpf$$rtb_tier$$aso$$block_keys$";s+="$p_geo$$p_lat$$p_long$$p_screen_res$$slot$$ad_id$$badvid$";if(this.context.rp_ae_spoof){s=this.context.rp_ae_spoof}}s+="$digitrust.id$$digitrust.preference$";if(this.context.rp_account&&this.context.rp_site&&this.context.rp_zonesize){s=e("account_id",this.context.rp_account,s);s=e("site_id",this.context.rp_site,s);s=e("zonesize",this.context.rp_zonesize,s);s=e("zone_id",this.context.rp_zone,s);s=e("size_id",this.context.rp_size_id,s)}else{return}s=e("format",(this.context.rp_adtype=="iframe"?"html":this.context.rp_adtype),s);var S=null;try{if(this.context.rp_page&&this.context.rp_page.length>0){S=escape(this.context.rp_page)}else{if(k()){var E=document.referrer;try{if(typeof window.parent.location.href=="string"&&window.parent.location.href.substr(0,4)=="http"){E=top.location.href||E}}catch(n){}if(E&&E.length>0){S=escape(E)}}}}catch(n){F=true}s=d("referrer","rf",S,s);if(!this.context.rp_feature_set.aso_override){this.context.rp_aso={}}if(this.context.rp_feature_set.expandable&&!("exp" in this.context.rp_aso)){this.context.rp_aso.exp=(this.getSupportExpandableAd()?1:null)}if(this.context.rp_feature_set.visibility&&!("pos" in this.context.rp_aso)){this.context.rp_aso.pos=i()}s=this.appendObject("aso","p",this.context.rp_aso,s,"_");s=d("slot","ad_slot",this.context.rp_slot,s);s=d("ad_id","ad_id",this.context.rp_ad,s);s=d("p_screen_res","p_screen_res",g(),s);s=d("cb","cb",Math.random(),s);s=d("keyword","kw",this.context.rp_kw,s);s=d("gender","gender",this.context.rp_gender,s);s=d("age","age",this.context.rp_age,s);s=d("agerange","age_range",this.context.rp_age_range,s);s=d("agedob","age_dob",this.context.rp_age_dob,s);s=d("ethnicity","ethnicity",this.context.rp_ethnicity,s);if(this.context.rp_lat!=null&&this.context.rp_long!=null){s=d("p_lat","p_lat",this.context.rp_lat,s);s=d("p_long","p_long",this.context.rp_long,s)}else{s=d("p_lat","p_lat",null,s);s=d("p_long","p_long",null,s)}s=d("xpi","xpi",this.context.rp_xpi,s);if(this.context.rp_rtb_floor){var V={standard:1,override:2,priority:3,"private":4};var q=null;if(this.context.rp_rtb_tier&&(this.context.rp_rtb_tier in V)){q=V[this.context.rp_rtb_tier]}s=d("rtb_floor","rp_floor",this.context.rp_rtb_floor,s);s=d("rtb_tier","rp_pmp_tier",q,s);s=d("dpf","rp_dpf",(this.context.rp_dpf?"1":null),s)}else{s=d("rtb_floor","rp_floor",null,s);s=d("rtb_tier","rp_pmp_tier",null,s);s=d("dpf","rp_dpf",null,s)}if(this.context.rp_floor){s=d("floor","rp_hard_floor",this.context.rp_floor,s)}else{s=d("floor","rp_hard_floor",null,s)}s=d("block_keys","p_block_keys",this.context.rp_blocks,s);s=d("tracking","tk_code",this.context.rp_tracking,s);s=d("user_key","tk_user_key",this.context.rp_user_key,s);s=d("smart","tk_st",(F?"0":"1"),s);s=d("smartfile","tk_sf",(this.context.rp_smartfile?"1":null),s);if(this.context.rp_feature_set.first_party_data){s=this.appendObject("tg_i","tg_i",this.context.rp_inventory,s);s=this.appendObject("tg_v","tg_v",this.context.rp_visitor,s)}else{s=this.appendObject("tg_i","tg_i",null,s);s=this.appendObject("tg_v","tg_v",null,s)}s=d("div_id","div",this.context.rp_div_id,s,true);s=d("app_id","app",this.context.rp_app_id,s);s=d("pub_id","pub",this.context.rp_publisher_id,s);s=d("rand_cb","id",Number(Math.random()*100000000000000000).toString(36),s);s=d("rfm_lat","lat",this.context.rp_geo.latitude,s);s=d("rfm_lng","lng",this.context.rp_geo.longitude,s);var T;var P=false;if(RubiconAdServing.AdSizes&&this.context.rp_size_id&&RubiconAdServing.AdSizes[this.context.rp_size_id]){T=RubiconAdServing.AdSizes[this.context.rp_size_id].dim;if(T=="0x0"){T=null}P=RubiconAdServing.AdSizes[this.context.rp_size_id].interstitial}s=d("rfm_ad_size","sze",T,s);s=d("fbid","x_fbid",this.context.rp_facebook_device_id,s);s=this.appendObject("p_app","p_app",this.context.rp_app,s);s=this.appendObject("p_device","p_device",this.context.rp_device,s);s=this.appendObject("p_geo","p_geo",this.context.rp_geo,s);s=this.appendObject("p_accept","p_accept",this.context.rp_accept,s);s=d("p_interstitial","p_instl",P?1:null,s);if(this.context.rp_badvid&&b(this.context.rp_badvid)){var G="";var U=false;for(var Z=0;Z<this.context.rp_badvid.length;Z++){U=this.context.rp_badvid[Z];if(parseInt(U)==U){G+=U+","}}if(G.length){G=G.substr(0,G.length-1)}s=d("badvid","x_badvid",G,s)}else{s=d("badvid","x_badvid",null,s)}var J=null;var t=null;var R;try{R=typeof(DigiTrust.getIdentitySync)}catch(aa){R=false}if(this.context.rp_feature_set.digitrust&&R){var r=DigiTrust.getIdentitySync({member:"rubicon"});if(r&&r.success&&r.identity){var W=r.identity;J=W.id;t=W.privacy.optout?1:0}}s=d("digitrust.id","dt.id",J,s);s=d("digitrust.preference","dt.preference",t,s);if(this.context.rp_feature_set.local_storage&&this.browser.detectSafari()){var m=[];data=RubiconAdServing.getStoredData();if(data&&data.fcaps&&data.fcaps.sizes){var B=data.fcaps.sizes;for(var y in B){if(!B[y].ads){continue}for(var v in B[y].ads){m[m.length]="ls_fcap."+y+"="+v+",0x"+B[y].ads[v].count.toString(16)+",0x"+B[y].ads[v].first_seen.toString(16)+",0x"+B[y].ads[v].last_seen.toString(16)}}}if(data&&data.bucket&&typeof data.bucket==="object"){var Y=data.bucket;for(var Q in Y){if(typeof Y[Q]!=="object"){continue}for(var D in Y[Q]){m[m.length]="ls_c."+Q+"."+D+"=0x"+Y[Q][D].value.toString(16)+",0x"+Y[Q][D].first_set.toString(16)+",0x"+Y[Q][D].last_set.toString(16)}}}s=s.replace(/\$localstorage\$/,!m.length?"":"&"+m.join("&"),s);s=d("storagetype","rp_s","l",s)}else{s=d("localstorage","localstorage",null,s);s=d("storagetype","rp_s","c",s)}if(this.context.rp_adtype=="jsonp"){var w=this;window.rp_onAdResponseLoaded=function(ab){w.onAdResponseLoaded(ab)}}if(this.shouldRouteToRFM()){var X=["rp_page","rp_inventory","rp_visitor","rp_gender","rp_age","rp_age_range","rp_age_dob","rp_ethnicity","rp_xpi","rp_kw","rp_tracking","rp_floor","rp_smartfile","rp_geo"];for(var Z=0;Z<X.length;Z++){if(typeof this.context[X[Z]]!="undefined"&&this.context[X[Z]]!=null){window[X[Z]]=this.context[X[Z]]}}}var H=new RubiconAdServing.Requests();var O=this.context.rp_feature_set.latency_sampling_sites;var u=O.length===0||j(this.context.rp_site,O);var o={slot:this,url:s,context:this.context,timer:u&&Math.random()<this.context.rp_feature_set.latency_sampling};H.addRequest(this.context.rp_zonesize,o);try{var N=this.context.rp_feature_set.jit_sync&&(this.browser.detectSafari()||this.browser.detectiPhone()||this.browser.detectiPad());var L=this.context.rp_feature_set.jit_sync_android&&this.browser.detectAndroid();if(N||L){var K=[2054,2138,2149,2532,3410];var M="rp_onUserIdLoaded_"+this.context.rp_zonesize;M=M.replace("-","_");var p=A+"gum.criteo.com/sync?c=2&r=2&j="+M;var w=this;window[M]=function(ab){w.onUserIdLoaded(K,o,ab)};document.write("<script type='text/javascript' src='"+p+"'><\/script>")}}catch(n){}document.write("<script type='text/javascript'>rp_requests = new RubiconAdServing.Requests(); rp_requests.sendRequest('"+this.context.rp_zonesize+"');<\/script>");try{var w=this;if(b(this.context.rp_feature_set.deal_extensions)){var C=this.context.rp_feature_set.deal_extensions;setTimeout(function(){if(RubiconAdServing.dealEligibilityIdentified){return}else{RubiconAdServing.dealEligibilityIdentified=true}var ab=[];for(var ac=0;ac<C.length;ac++){ab.push(C[ac])}if(ab.length){w.dropDealEligibility(ab)}},5000)}}catch(n){}};this.onDealEligiblityLoaded=function(o,n){try{var w=document.location.href.split(":");var u=w[0]=="https"?"https://":"http://";if(o&&o.valuation&&o.valuation.pmp&&b(o.valuation.pmp.deals)){for(var v=0;v<n.length;v++){var s=n[v];for(var t=0;t<o.valuation.pmp.deals.length;t++){for(var p=0;p<s.deal_id_mappings.length;p++){if(o.valuation.pmp.deals[t].id==s.deal_id_mappings[p].deal_id){var m=u+"pixel.rubiconproject.com/tap.php?v="+s.deal_id_mappings[p].pav_id;var r=document.createElement("img");r.src=m;r.width=0;r.height=0;var q=document.getElementsByTagName("body")[0].lastChild;q.parentNode.appendChild(r)}}}}}}catch(x){}};this.onUserIdLoaded=function(p,n,o){if(p&&o&&o.status=="OK"&&o.userid){var q;var m;for(m=0;m<p.length;m++){q=p[m];n.url=n.url+="&put_"+q+"="+encodeURIComponent(o.userid)}}};this.dropDealEligibility=function(n){try{var q=document.location.href.split(":");var p=q[0]=="https"?"https://":"http://";var t="rp_onDealEligibilityLoaded";var u=this;window[t]=function(v){u.onDealEligiblityLoaded(v,n)};var m=p+"anvil.rubiconproject.com/a/api/market.js?account_id="+this.context.rp_account+"&site_id="+this.context.rp_site+"&zone_id="+this.context.rp_zone+"&size_id="+this.context.rp_size_id+"&cb="+t+"$tg_i$$tg_v$";m=this.appendObject("tg_i","tg_i",this.context.rp_inventory,m);m=this.appendObject("tg_v","tg_v",this.context.rp_visitor,m);var s=document.createElement("script");s.src=m;s.type="application/javascript";var o=document.getElementsByTagName("script")[0];o.parentNode.insertBefore(s,o)}catch(r){}};this.dropRTPDataCollection=function(m){document.write('<script type="text/javascript">');document.write('oz_api="valuation";');document.write("oz_async=true;");document.write("oz_cached_only=true;");document.write('rp_account="'+this.context.rp_account+'";');document.write('rp_site="'+this.context.rp_site+'";');document.write('rp_zonesize="'+this.context.rp_zonesize+'";');if(this.context.rp_slot){document.write('rp_slot="'+this.context.rp_slot+'";')}document.write('oz_impression_id="'+m.impression_id+'";');document.write("<\/script>");document.write('<script type="text/javascript" src="http://tap-cdn.rubiconproject.com/partner/scripts/rubicon/dorothy.js?pc='+this.context.rp_account+"/"+this.context.rp_site+'"><\/script>')};this.filter_script=function(m){m=m.replace(/\/SCRIPT/g,'/SCR"+"IPT');m=m.replace(/\/script/g,'/scr"+"ipt');return m};this.onAdResponseLoaded=function(n){var u;try{if(n.ads){for(var o=0;o<n.ads.length;o++){u=n.ads[o];var p=["script","html"];for(var v in p){var r=p[v];if(u[r]&&typeof u[r]=="string"){u[r]=decodeURIComponent(u[r]);if(typeof this["filter_"+r]=="function"){u[r]=this["filter_"+r](u[r])}}}if(this.context.rp_slot){u.rp_slot=this.context.rp_slot}var s;var m=new RubiconAdServing.Creatives();s=n.account_id+"/"+n.site_id+"/"+n.zone_id+"-"+n.size_id;m.setAd(s,u);s=this.context.rp_slot;m.setAd(s,u)}}if(this.context.rp_callback){if(typeof this.context.rp_callback=="function"){this.context.rp_callback(n)}if(typeof this.context.rp_callback=="string"&&window[this.context.rp_callback]&&typeof window[this.context.rp_callback]=="function"){window[this.context.rp_callback](n)}}}catch(q){}try{if(this.context.rp_feature_set.rtp_data_collection){if(n.ads){for(var o=0;o<n.ads.length;o++){u=n.ads[o];this.dropRTPDataCollection(u)}}}}catch(q){}};var b=function(m){return(m||false)&&Object.prototype.toString.apply(m)==="[object Array]"&&typeof m.length==="number"&&m.length>0};var j=function(o,n){for(var m=0;m<n.length;m++){if(o===n[m]){return true}}return false};var d=function(o,p,n,r,q){var m="";if(n!==null&&typeof n!="undefined"){m=(q===true?"":"&")+p+"="+n}return e(o,m,r)};var e=function(n,m,o){if(typeof n==="string"&&n!==null&&n.length>0){return o.replace("$"+n+"$",m)}else{return o}};this.appendObject=function(o,q,r,n,t){var s="";if(r){t=t||".";var p;for(var m in r){if(!r.hasOwnProperty(m)){continue}p=r[m];if(p!=null&&(typeof p.length=="undefined"||p.length>0)){if(typeof p=="boolean"){s+="&"+q+t+m+"="+(p?1:0)}else{s+="&"+q+t+m+"="+encodeURIComponent(p)}}}}n=e(o,s,n);return n};this.getSupportExpandableAd=function(){return(!k()&&this.context.rp_adtype!="iframe")};var k=function(){return(window!=top)};var l=function(){var m=false;try{window.top.location.href}catch(n){m=true}return m};var i=function(){var v=null;try{if(l()){}else{var p=window;var q=c();var r=90;var u;if(k()){while(window.top!==p.parent){p=p.parent;try{p.location.href}catch(n){return v}}u=h(p.frameElement);r=p.frameElement.clientHeight/2}else{var t=document.documentElement;while(t.childNodes.length&&t.lastChild.nodeType==1){t=t.lastChild}var o=document.createElement("div");var m=a("rubicon_chk_position_");o.setAttribute("id",m);o.style.width="0px";o.style.height="0px";t.parentNode.appendChild(o);u=h(o);t.parentNode.removeChild(o);r=r/2}if(q.y+q.h<(r+u.y)||q.y>(r+u.y)){v="btf"}else{v="atf"}}}catch(s){}return v};var a=function(m){return m+Math.floor(Math.random()*1000000)};var c=function(){if(window.frameElement){return{x:window.top.innerWidth,y:window.top.pageYOffset||window.top.document.body.scrollTop||window.top.document.documentElement.scrollTop,w:(window.top.innerWidth||window.top.documentElement.clientWidth||window.top.getElementsByTagName("body")[0].clientWidth),h:(window.top.innerHeight||window.top.documentElement.clientHeight||window.top.getElementsByTagName("body")[0].clientHeight)}}return{x:window.pageXOffset||document.body.scrollLeft||document.documentElement.scrollLeft,y:window.pageYOffset||document.body.scrollTop||document.documentElement.scrollTop,w:(window.innerWidth||document.documentElement.clientWidth||document.getElementsByTagName("body")[0].clientWidth),h:(window.innerHeight||document.documentElement.clientHeight||document.getElementsByTagName("body")[0].clientHeight)}};var g=function(){try{return window.screen.width+"x"+window.screen.height}catch(m){}};var h=function(n){var m=0,o=0;if(n.offsetParent){do{m+=n.offsetLeft;o+=n.offsetTop}while(n=n.offsetParent)}return{x:m,y:o}};var f=function(m){this.navigator=m,this.safariMatching=[{text:m.vendor,pattern:"Apple"}],this.ipadMatching=[{text:m.userAgent,pattern:"iPad"},{text:m.userAgent,pattern:"OS X"}],this.iphoneMatching=[{text:m.userAgent,pattern:"iPhone"},{text:m.userAgent,pattern:"OS X"}],this.androidMatching=[{text:m.userAgent,pattern:"Android"}],this.detectSafari=function(){return this.matchesAny(this.safariMatching)},this.detectiPad=function(){return this.matchesAll(this.ipadMatching)},this.detectiPhone=function(){return this.matchesAll(this.iphoneMatching)},this.detectAndroid=function(){return this.matchesAll(this.androidMatching)},this.detectIE8Plus=function(){var p=0;if(m&&m.appName=="Microsoft Internet Explorer"){var n=m.userAgent;var o=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})");if(o.exec(n)!=null){p=parseFloat(RegExp.$1)}}return(p>=8)},this.matchesAny=function(o){for(var n=0;n<o.length;n++){var p=o[n].text;if(p&&p.indexOf(o[n].pattern)!=-1){return true}}return false},this.matchesAll=function(p){var n=0;for(var o=0;o<p.length;o++){var q=p[o].text;if(q&&q.indexOf(p[o].pattern)>=0){n++}}return(n>0&&n==p.length)}}};RubiconAdServing.getStoredData=function(){try{var b=localStorage.rubiconSmartTagData;if(b){var a=JSON.parse(b);if(typeof a==="object"){return a}}}catch(c){return{}}return{}};RubiconAdServing.storeData=function(a){try{localStorage.rubiconSmartTagData=JSON.stringify(a)}catch(b){}};RubiconAdServing.enforceFCapStructure=function(d,c,a,b){if(!d.fcaps){d.fcaps={}}if(!d.fcaps.sizes){d.fcaps.sizes={}}if(!d.fcaps.sizes[c]){d.fcaps.sizes[c]={}}if(!d.fcaps.sizes[c]["ads"]){d.fcaps.sizes[c]["ads"]={}}if(!d.fcaps.sizes[c]["ads"][a]){d.fcaps.sizes[c]["ads"][a]={count:0,ad_id:a,first_seen:b,last_seen:b}}return d};RubiconAdServing.setFCap=function(c,a,d,b){var e=RubiconAdServing.getStoredData();e=RubiconAdServing.enforceFCapStructure(e,c,a,b);e.fcaps.sizes[c]["ads"][a].count=d;e.fcaps.sizes[c]["ads"][a].last_seen=b;RubiconAdServing.storeData(e)};RubiconAdServing.incFCap=function(c,a,d,b){var e=RubiconAdServing.getStoredData();e=RubiconAdServing.enforceFCapStructure(e,c,a,b);e.fcaps.sizes[c]["ads"][a].count+=d;e.fcaps.sizes[c]["ads"][a].last_seen=b;RubiconAdServing.storeData(e)};RubiconAdServing.decFCap=function(c,a,d,b){var e=RubiconAdServing.getStoredData();e=RubiconAdServing.enforceFCapStructure(e,c,a,b);e.fcaps.sizes[c]["ads"][a].count-=d;e.fcaps.sizes[c]["ads"][a].last_seen=b;RubiconAdServing.storeData(e)};RubiconAdServing.delFCap=function(b,a){var c=RubiconAdServing.getStoredData();c=RubiconAdServing.enforceFCapStructure(c,b,a,0);delete c.fcaps.sizes[b]["ads"][a];if(JSON.stringify(c.fcaps.sizes[b]["ads"])==="{}"){delete c.fcaps.sizes[b]}if(JSON.stringify(c.fcaps.sizes)==="{}"){delete c.fcaps.sizes}RubiconAdServing.storeData(c)};RubiconAdServing.enforceBucketStructure=function(d,c,b,a){if(typeof d.bucket!=="object"){d.bucket={}}if(typeof d.bucket[c]!=="object"){d.bucket[c]={}}if(typeof d.bucket[c][b]!=="object"){d.bucket[c][b]={first_set:a,value:0}}return d};RubiconAdServing.setBucketValue=function(c,b,e,a){var d=RubiconAdServing.getStoredData();d=RubiconAdServing.enforceBucketStructure(d,c,b,a);d.bucket[c][b].value=e;d.bucket[c][b].last_set=a;RubiconAdServing.storeData(d)};RubiconAdServing.incBucketValue=function(c,b,e,a){var d=RubiconAdServing.getStoredData();d=RubiconAdServing.enforceBucketStructure(d,c,b,a);d.bucket[c][b].value+=e;d.bucket[c][b].last_set=a;RubiconAdServing.storeData(d)};RubiconAdServing.decBucketValue=function(c,b,e,a){var d=RubiconAdServing.getStoredData();d=RubiconAdServing.enforceBucketStructure(d,c,b,a);d.bucket[c][b].value-=e;d.bucket[c][b].last_set=a;RubiconAdServing.storeData(d)};RubiconAdServing.delBucketValue=function(b,a){var c=RubiconAdServing.getStoredData();c=RubiconAdServing.enforceBucketStructure(c,b,a,0);delete c.bucket[b][a];if(JSON.stringify(c.bucket[b])==="{}"){delete c.bucket[b]}RubiconAdServing.storeData(c)};(function(){try{var a;var d=new RubiconAdServing.RubiconAd();var c=new Object();var g;g=["rp_account","rp_site","rp_zonesize","rp_ad","rp_height","rp_width","rp_floor","rp_pmp_tier","rp_rtb_tier","rp_rtb_floor","rp_lat","rp_long","rp_slot"];for(var b=0;b<g.length;b++){a=g[b];if((window[a]!=null)&&(typeof window[a]=="string"||typeof window[a]=="number")){c[a]=window[a];window[a]=undefined}}g=["rp_adtype","rp_page","rp_ae_spoof","rp_env","rp_host","rp_facebook_device_id","rp_publisher_id","rp_app_id","rp_div_id"];for(var b=0;b<g.length;b++){a=g[b];if(window[a]&&typeof window[a]=="string"){c[a]=window[a];window[a]=undefined}}g=["rp_gender","rp_age","rp_age_range","rp_age_dob","rp_ethnicity","rp_xpi","rp_kw","rp_tracking","rp_user_key","rp_blocks"];for(var b=0;b<g.length;b++){a=g[b];if(window[a]&&((typeof window[a]=="string"&&window[a].substr(0,7)!="[INSERT")||typeof window[a]=="number")){c[a]=window[a];window[a]=undefined}}g=["rp_debug","rp_inventory","rp_visitor","rp_app","rp_device","rp_geo","rp_accept","rp_feature_set","rp_dpf","rp_aso","rp_navigator","rp_badvid","rp_fastlane"];for(var b=0;b<g.length;b++){a=g[b];if(window[a]&&(typeof window[a]=="object"||typeof window[a]=="boolean")){c[a]=window[a];window[a]=undefined}}g=["rp_smartfile"];for(var b=0;b<g.length;b++){a=g[b];if(window[a]&&(typeof window[a]=="string"&&window[a].substr(0,6)!="[SMART")){c[a]=window[a];window[a]=undefined}}g=["rp_callback"];for(var b=0;b<g.length;b++){a=g[b];if(window[a]&&(typeof window[a]=="function"||typeof window[a]=="string")){c[a]=window[a];window[a]=undefined}}d.init(c);d.start()}catch(f){}})();